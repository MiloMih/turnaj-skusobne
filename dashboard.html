<!DOCTYPE html>
<html lang="sk">
<head>
  <meta charset="UTF-8">
  <title>Turnaj</title>
</head>
<body>

<div id="header-placeholder"></div>
<p>Prihlásený používateľ: <span id="username"></span></p>

<script>
  fetch("header.html")
    .then(res => res.text())
    .then(html => {
      document.getElementById("header-placeholder").innerHTML = html;

      const authButton = document.getElementById("auth-button");
      const username = sessionStorage.getItem("username");

      if (authButton) {
        if (username) {
          authButton.textContent = "Odhlásiť sa";
          authButton.onclick = () => {
            sessionStorage.removeItem("username");
            window.location.href = "index.html";
          };
        } else {
          authButton.textContent = "Prihlásiť sa";
          authButton.onclick = () => {
            window.location.href = "login.html";
          };
        }
      } else {
        console.error("Element s ID 'auth-button' nebol nájdený v načítanej hlavičke.");
      }
    });

  document.getElementById('username').textContent = sessionStorage.getItem("username") || "nie je prihlásený";

  function logout() {
    sessionStorage.removeItem("username");
    window.location.href = "index.html";
  }
</script>

</body>
</html>
